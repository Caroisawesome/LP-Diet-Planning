\documentclass[paper=a4, fontsize=11pt]{scrartcl}
\usepackage[T1]{fontenc}
\usepackage{hyperref,subfig}

\usepackage[english]{babel}															% English language/hyphenation
\usepackage[protrusion=true,expansion=true]{microtype}	
\usepackage{amsmath,amsfonts,amsthm} % Math packages
\usepackage[pdftex]{graphicx}	
\usepackage{url,listings}


%%% Custom sectioning
\usepackage{sectsty}
\allsectionsfont{\centering \normalfont\scshape}


%%% Custom headers/footers (fancyhdr package)
\usepackage{fancyhdr}
\pagestyle{fancyplain}
\fancyhead{}											% No page header
\fancyfoot[L]{}											% Empty 
\fancyfoot[C]{}											% Empty
\fancyfoot[R]{\thepage}									% Pagenumbering
\renewcommand{\headrulewidth}{0pt}			% Remove header underlines
\renewcommand{\footrulewidth}{0pt}				% Remove footer underlines
\setlength{\headheight}{13.6pt}


%%% Equation and float numbering
\numberwithin{equation}{section}		% Equationnumbering: section.eq#
\numberwithin{figure}{section}			% Figurenumbering: section.fig#
\numberwithin{table}{section}				% Tablenumbering: section.tab#


%%% Maketitle metadata
\newcommand{\horrule}[1]{\rule{\linewidth}{#1}} 	% Horizontal rule

\title{
		%\vspace{-1in} 	
		\usefont{OT1}{bch}{b}{n}
		\normalfont \normalsize \textsc{CS 362 - Algorithms and Data Structures II} \\ [25pt]
		\horrule{0.5pt} \\[0.4cm]
		\huge Project 2 - Minimum Cost Diet LP \\
		\horrule{2pt} \\[0.5cm]
}
\author{
		\normalfont 								\normalsize
        Carolyn Atterbury\\[-3pt]		\normalsize
        \today
}
\date{}


%%% Begin document
\begin{document}
\lstset{language=bash}

\maketitle

\paragraph{This report describes a linear program}to minimize the cost of a dayâ€™s worth of food while meeting the RDA's reccommended daily nutritional targets. The food items looked at are: beans, rice, spinach, avocado, and cheese. The nutritional targets looked at are: Calories, Protein, Sodium, Vitamin A, Vitamin C, and Saturated Fat. 

\section{Setup}
Using data from the United States Department of Agriculture, I downloaded nutritional information for five food items, and stored them in $.csv$ format in the /Data section of my project directory. I imported the $.csv$ files using Python in /Code/parse\_data.py, and organized the nutritional information according to certain nutritional properties: Protien, Calories, Vitamin C, Vitamin D, Sodium, and Saturated Fat. In the /Code/script.py file, I imported the organized data and added the PulP library to manage the details of the linear program. \\

To run the program, unzip the file and run the following commands:
\begin{lstlisting}
  cd Code/
  pip install pulp
  python script.py
\end{lstlisting}


\subsection{Nutritional Information}
See \autoref{Fig:Foods} for details on the nutritional content of the five target foods, and the cost of each of the food items.

\begin{figure}
  \subfloat[Nutritional Information]{
    \begin{tabular}{ l | l l l l l }
      \hline
       & Cheese & Rice & Beans & Avocado & Spinach\\

      \hline \hline
      Serving Size (g) & 28.0 & 42.0 & 130.0 & 136.0 & 340.0 \\
      Protein & 7.0 & 3.0 & 10.0 & 2.67 & 9.72\\ 
      Calories & 110.0 & 150.0 & 150.0 & 227.0 & 78.0 \\
      Sodium & 180.0 & 0.0 & 341.0 & 11.0 & 269.0\\ 
      Vitamin A & 589.0 & 0.0 & 0.0 & 200.0 & 31882.0 \\
      Vitamin C & 0.0 & 0.0 & 0.0 & 12.0 & 95.5\\
      Saturated Fat & 5.001 & 0.0 & 0.0 & 2.891 & 0.214 \\
      \hline
  \end{tabular}}

  \subfloat[Food Costs]{
    \begin{tabular}{ l | c }
      Food & Dollar cost per pound  \\
      \hline \hline
      Cheese & 7.71 \\
      Rice & 1.00 \\
      Beans & 1.00 \\
      Avocado & 1.25 \\
      Spinach & 7.00 \\
      \hline
  \end{tabular}}

  \caption{Nutritional information and cost of food items}
  \label{Fig:Foods}
\end{figure}

\subsection{Variables}
The individual food items were set up as real-valued variables in the linear program. The following lists the variables that were given as output to the program:

\begin{lstlisting}
Foods_avocado Continuous
Foods_beans Continuous
Foods_cheese Continuous
Foods_rice Continuous
Foods_spinach Continuous
\end{lstlisting}



\subsection{Objective Function}
The objective function was generated by mapping the variables to their corresponding costs. The cost first had to be converted from cost per pound, to cost per gram, and then scaled to the serving size of the food item in the nutritional information. The conversion amount used was 453.5924 grams per 1 pound. The following objective function was used by the program: 

\begin{lstlisting}
  0.7495716418529059*Foods_avocado + 0.2866009218849346*Foods_beans +
  0.4759339001270745*Foods_cheese + 0.09259414399359425*Foods_rice +
  5.247001492970341*Foods_spinach + 0.0
\end{lstlisting}


\subsection{Constraints}
Six contraints were added to the linear program - one for each nutritional property. For each nutritional property (e.g. Protien, Calories, ... etc.), the variables were matched with the corresponding food item's nutritional information (e.g. variable 'cheese' was associated with the amount of protein in cheese). The sum of the variable-coefficient pairs was then compared to the daily value of each nutritional property. The daily nutritional values are given in \eqref{eq:dailyvals} below, and the full list of program constraints is in \eqref{eq:constraint}.

\begin{align}
  \begin{split}
    Calories &= 2000\\
    Protein &\le 56 \\
    Sodium &\le 2400 \\
    Vitamin C &\ge 90 \\
    Vitamin A &\ge 700\\
    Saturated Fat &\le 20\\
  \end{split}
  \label{eq:dailyvals}
\end{align}


\begin{align} 
	\begin{split}
      2000 &= 227(Avocado) + 150(Beans) + 110(Cheese) + 150(rice) + 78(Spinach)\\
      56 &\ge 2.67(Avocado) + 10(Beans) + 7(Cheese) + 3(Rice) + 9.72(Spinach)\\
      2400 &\ge 11(Avocado) + 341(Beans) + 180(Cheese) + 269(Spinach)\\
      90 &\le 12(Avocado) + 95.5(Spinach)\\
      700 &\le 200(Avocado) + 589(Cheese) + 31882(Spinach)\\
      20 &\ge 2.891(Avocado) + 5.001(Cheese) + 0.214(Spinach)\\
	\end{split}
    \label{eq:constraint}
\end{align}

\section{Results}
The minimal possible cost found to meet the daily nutritional quotas with the five selected foods was \$6.36. Avocado and Cheese did not have a good price compared to nutritional content, so they were left out of the final result. The optimal diet per day is to eat 1.18 servings of beans, 11.65 servings of rice, and 0.94 servings of spinach.

The final output of the program:

\begin{lstlisting}
Optimal
Foods_avocado = 0.0
Foods_beans = 1.1871354
Foods_cheese = 0.0
Foods_rice = 11.656146
Foods_spinach = 0.94240838
6.36434313802436
\end{lstlisting}

\section{Menu}




\begin{enumerate}
	\item First item in a list 
	\item Second item in a list 
	\item Third item in a list
\end{enumerate}

\section{Resources}

\begin{itemize}
\item United States Department of agriculture - \url{https://ndb.nal.usda.gov/ndb/}
\item Cost Cheese - \url{http://www.wisconline.com/cgi-bin/aaw_catalog.pl?start=109&end=117&t=ven&ven=125}
\item Cost Spinach - \url{https://www.howmuchisit.org/how-much-does-spinach-cost/}
\item Cost Beans - \url{https://www.amazon.com/365-Everyday-Value-Organic-Black/dp/B074MFZ1NS/ref=sr_1_3_a_it/146-5585447-2072360?ie=UTF8&qid=1523249746&sr=8-3&keywords=organic+black+beans}
\item Cost Rice - \url{https://www.answers.com/Q/How_much_does_one_pound_of_rice_cost}
\item Cost Avocado - \url{https://www.hassavocadoboard.com/retail/volume-and-price-data}
\item Average Avocado Size - \url{https://www.answers.com/Q/What_is_the_weight_of_an_average-sized_avocado}
  
\end{itemize}
\end{document}
